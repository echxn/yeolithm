/*
 * Theme 41 by https://yeoli-thm.tumblr.com/
 * Copyright (c) 2021 yeoli-thm
 */
 
!function(t){t.fn.exists=function(){return this.length>0};var a=window.getComputedStyle(document.body),i=a.getPropertyValue("--photosetGutterSize"),e={background:"rgba(0,0,0,0)",color:a.getPropertyValue("--audioPlayerButtonColor")},o=t(window),n=t("body"),s=n.find("#sidebar-left"),r=s.find("#menu"),d=s.find(".menu_spinner a"),l=45,c=n.find("#sidebar-right"),f=c.find("#pagination"),p=c.find("#searchbar"),h=c.find("a.search_button"),u=c.find(".scrolltop_button");function m(){t("[title]").tooltipster({anchor:"top-left",offset:[14,-18],plugins:["follower"],animationDuration:300,delay:100,updateAnimation:null,trigger:"custom",triggerOpen:{click:!0,mouseenter:!0,tap:!1,touchstart:!1},triggerClose:{click:!1,mouseleave:!0,originClick:!1,scroll:!0,tap:!0,touchleave:!0}})}if(t.fn.photoset=function(){return this.find(".photo-slideshow:not(.processed)").pxuPhotoset({lightbox:!0,highRes:!0,rounded:!1,exif:!1,captions:!1,gutter:i,photoset:".photo-slideshow",photoWrap:".photo-data",photo:".pxu-photo"})},t.fn.video=function(){return this.find(".tmblr-embed:not(.processed)").each(function(){let a=t(this);if(a.find(".instagram-media").exists())a.addClass("processed");else{let t=a.find("iframe").width(),i=a.find("iframe").height(),e=Math.floor(i/t*100)+"%";a.find("iframe").wrap('<div class="vid-resize"/>'),a.find(".vid-resize").css({"padding-Bottom":e}),a.addClass("processed")}})},t.fn.audio=function(){return this.find("iframe.tumblr_audio_player").load(function(){let a=t(this);a.contents().find(".audio-player").css(e).find(".progress").css({background:"rgba(0,0,0,0)"}),a.css({opacity:"1"})})},m(),t.tooltipster.group("tooltip"),n.on("mouseover",".sidebar-inner, .notes",m),t(".post").each(function(){var a=t(this);a.photoset(),a.video(),a.audio(),function(a){a.find("figure").each(function(){null==t(this).attr("class")&&null!=t(this).attr("data-orig-width")||null!=t(this).attr("data-tumblr-attribution")?t(this).wrap('<div class="npf-wrap-single"/>'):"tmblr-full"!=t(this).attr("class")||t(this).parents(".npf_row").exists()||null!=t(this).attr("data-tumblr-attribution")||t(this).addClass("npf-item")}),a.find(".npf_row").each(function(){t(this).addClass("npf-item")}),a.find(".npf-item").not(".npf-item + .npf-item").each(function(){t(this).nextUntil(":not(.npf-item)").addBack().wrapAll('<div class="npf-wrap-all"/>')}),a.find('[class*="npf-wrap-"] img:not(.post_media_photo)').each(function(){var a=t(this),i=a.attr("src"),e=a.attr("data-orig-height"),o=a.attr("data-orig-width");a.wrap('<a class="post_media_photo_anchor" data-big-photo="'+i+'" data-big-photo-height="'+e+'" data-big-photo-width="'+o+'"/>')})}(a),a.addClass("appended")}),d.click(function(t){t.preventDefault(),l+=90,r.css({"-webkit-transform":"rotate("+l+"deg)","-moz-transform":"rotate("+l+"deg)","-ms-transform":"rotate("+l+"deg)",transform:"rotate("+l+"deg)"})}),f.exists()){var g=f.find(".current"),b=parseInt(g.attr("data-current"));b<=9?g.text("0"+b):g.text(b)}h.click(function(t){t.preventDefault(),n.hasClass("search--open")?(n.removeClass("search--open"),p.delay(400).hide(0)):(p.show(0),n.addClass("search--open"))}),o.scroll(function(){var a=t(this).scrollTop();a>200&&!u.hasClass("activated")?u.addClass("activated"):a<=200&&t(".scrolltop_button").hasClass("activated")&&u.removeClass("activated")}),u.click(function(a){a.preventDefault(),t("html,body").animate({scrollTop:0},400)})}(jQuery);
