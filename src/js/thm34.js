/*
 * Theme 34 by https://yeoli-thm.tumblr.com/
 * Copyright (c) 2021 yeoli-thm
 */

!function(t){function i(){t(".post:not(.appended)").each(function(){t(this).find("figure").each(function(){null==t(this).attr("class")&&null!=t(this).attr("data-orig-width")||null!=t(this).attr("data-tumblr-attribution")?t(this).wrap('<div class="npf-wrap-single"/>'):"tmblr-full"!=t(this).attr("class")||t(this).parents(".npf_row").exists()||null!=t(this).attr("data-tumblr-attribution")||t(this).addClass("npf-item")}),t(this).find(".npf_row").each(function(){t(this).addClass("npf-item");var i=t(this).first(".npf_col").find("a.post_media_photo_anchor").attr("data-big-photo-height"),s=t(this).first(".npf_col").find("a.post_media_photo_anchor").attr("data-big-photo-width"),o=Math.floor(i/s*100);t(this).find(".tmblr-full").css("padding-bottom",o+"%")}),t(this).find(".npf-item").not(".npf-item + .npf-item").each(function(){t(this).nextUntil(":not(.npf-item)").addBack().wrapAll('<div class="npf-wrap-all"/>')}),t(this).addClass("appended")})}function s(){t(".photo-slideshow:not(.processed)").pxuPhotoset({lightbox:!0,highRes:!0,rounded:!1,exif:!1,captions:!1,gutter:photosetGutterSize,photoset:".photo-slideshow",photoWrap:".photo-data",photo:".pxu-photo"})}function o(i){t(".tmblr-embed:not(.processed)").each(function(){var s=t(this);if(s.find(".instagram-media").exists()){if(s.addClass("processed"),t(".index").exists())var o=0,a=setInterval(function(){o<5?(++o,i.masonry("layout")):clearInterval(a)},1e3)}else{var n=s.find("iframe").width(),e=s.find("iframe").height(),r=Math.floor(e/n*100)+"%";s.find("iframe").wrap('<div class="vid-resize"/>'),s.find(".vid-resize").css({"padding-Bottom":r}),s.addClass("processed")}})}if(t.fn.exists=function(){return this.length>0},t(window).scroll(function(){t(window).scrollTop()>300?"none"==t("#top").css("display")&&t("#top").fadeIn(400):"none"!=t("#top").css("display")&&t("#top").fadeOut(400)}),t("#top").click(function(i){return i.preventDefault(),t("body,html").animate({scrollTop:0},600),!1}),t(".index").exists()){var a=t("#main").masonry({itemSelector:".post",columnWidth:".post",gutter:".post-gutter",fitWidth:!0});if(i(),s(),o(a),t(".npf_row").each(function(){t(this).addClass("clickable")}),a.imagesLoaded().progress(function(){a.masonry("layout")}),t(".ifntscroll").exists()){var n=a.data("masonry");a.infiniteScroll({append:".post",path:"a#next",status:".page-load-status",outlayer:n,prefill:!0,scrollThreshold:600}),a.on("append.infiniteScroll",function(n,e,r,d){i(),s(),o(a),t(".npf_row:not(.clickable):not(.disabled)").each(function(){t(this).addClass("disabled")});var l=t(d).map(function(){return t(this).attr("id")}).get();Tumblr.LikeButton.get_status_by_post_ids(l),a.imagesLoaded().progress(function(){a.masonry("layout")})})}}else i(),s(),o(a)}(jQuery);
