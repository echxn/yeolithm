/*
 * Copyright (c) 2021 yeoli-thm
 * https://yeolithm.com
 *
 */
 
!function(t){t.fn.exists=function(){return this.length>0};var e=window.getComputedStyle(document.body),o=t("body"),n=t(window),a=o.find("#to-top"),i=o.find("#site-body"),l=o.find("#popup");const r=e.getPropertyValue("--numAllThemes"),s=e.getPropertyValue("--numPremium"),c=e.getPropertyValue("--numNew"),u=e.getPropertyValue("--numOld"),f=e.getPropertyValue("--numAllInOne"),d=e.getPropertyValue("--numAbout"),p=e.getPropertyValue("--numBlogroll");var h=t('label[for="all-themes"]').find(".filter-count"),m=t('label[for="premium"]').find(".filter-count"),g=t('label[for="new"]').find(".filter-count"),v=t('label[for="old"]').find(".filter-count"),b=t('label[for="all-in-one"]').find(".filter-count"),C=t('label[for="about-page"]').find(".num"),k=t('label[for="blogroll-page"]').find(".num");function y(){t("[title]").tooltipster({anchor:"top-left",offset:[14,-18],plugins:["follower"],animationDuration:300,delay:100,maxWidth:200,updateAnimation:null,trigger:"custom",triggerOpen:{click:!0,mouseenter:!0,tap:!1,touchstart:!1},triggerClose:{click:!1,mouseleave:!0,originClick:!1,scroll:!0,tap:!0,touchleave:!0}})}y(),t.tooltipster.group("tooltip"),o.on("mouseover",".notes",y),t(".grid-item").each(function(){var e=t(this);const n=e.attr("data-modal");var a=t("#"+n);e.click(function(e){e.preventDefault(),o.addClass("modal--active"),l.animate({scrollTop:0},0),a.fadeIn(300,function(){t(this).addClass("open")})}),a.on("click",function(e){var n=t(e.target);(n.hasClass("modal-wrapper")||n.hasClass("modal_close_button"))&&(e.preventDefault(),a.fadeOut(300,function(){a.removeClass("open"),o.removeClass("modal--active")}))})}),o.find(".filter_tab_section").each(function(){var e=t(this).find('[name="toggle-ft"]'),o=t(this).find(".filter_content");e.change(function(){o.slideToggle(300)})});var w=t("#grid").isotope({itemSelector:".grid-item",stagger:60,transitionDuration:300,masonry:{columnWidth:".grid-item",gutter:".grid-gutter",isFitWidth:!0,horizontalOrder:!0}});w.imagesLoaded({background:!0}).progress(function(){w.isotope("layout")}).done(function(e){t("#preload").fadeOut(300,function(){o.removeClass("preinitialize")}).remove()});var x=w.data("isotope"),D=t('input[name="z"]'),O=t('.filter_tab input:not([name="toggle-ft"])'),P=t("#none"),T=t(".reset_button");function _(){var e=w.isotope("getFilteredItemElements"),o=t(e);D.each(function(e,n){var a=t(n),i=t('label[for="'+a.attr("id")+'"]'),l=a.val();if(l){var r=o.filter(l).length;i.find(".filter-count").text(r)}})}function V(){h.text(r),m.text(s),g.text(c),v.text(u),b.text(f)}t.fn.checkbox=function(){return this.each(function(){if(t(this).hasClass("inc")){P.fadeOut(0),V(),O.prop("checked",!1),t(this).prop("checked",!0);var e=[];O.each(function(t,o){o.checked&&e.push(o.value)});var o=e=e.join("");w.isotope({filter:o,stagger:30,transitionDuration:600}),t("html,body").animate({scrollTop:i.offset().top-60},400)}else{e=[];O.each(function(t,o){o.checked&&e.push(o.value)});o=e=e.join("");w.isotope({filter:o,stagger:30,transitionDuration:600}),_(),0===x.filteredItems.length?P.fadeIn(300,function(){t("html,body").animate({scrollTop:i.offset().top-60},400)}):P.fadeOut(0)}}),this},C.text(d),k.text(p),function(){var t=[];O.each(function(e,o){o.checked&&t.push(o.value)});var e=t=t.join("");w.isotope({filter:e,stagger:30,transitionDuration:600}),_()}(),O.change(function(){t(this).checkbox()}),T.click(function(e){e.preventDefault(),P.fadeOut(0),V(),O.prop("checked",!1),t('.filter_tab input[value=".theme"]').prop("checked",!0);var o=[];O.each(function(t,e){e.checked&&o.push(e.value)});var n=o=o.join("");w.isotope({filter:n,stagger:30,transitionDuration:600})}),t(".panel-wrapper").each(function(){var e=t(this);const n=t(this).attr("id");t('a[data-panel-label="'+n+'"]').click(function(t){t.preventDefault(),o.addClass(n+"--active"),e.addClass("show")}),e.on("click",function(a){var i=t(a.target);i.attr("id")!=n&&i.attr("data-panel-close")!=n||(a.preventDefault(),e.toggleClass("show hide"),setTimeout(function(){o.removeClass(n+"--active"),e.removeClass("hide")},300))})}),n.scroll(function(){var e=t(this).scrollTop();e>300&&!a.hasClass("show")?a.addClass("show"):e<=300&&a.hasClass("show")&&a.removeClass("show")}),a.click(function(e){e.preventDefault(),t("html,body").animate({scrollTop:0},400)}),o.keydown(function(t){var e=t.keyCode||t.which;"9"==e||"32"==e?o.addClass("tab-focus"):o.removeClass("tab-focus"),o.click(function(){o.hasClass("tab-focus")&&o.removeClass("tab-focus")})})}(jQuery);
