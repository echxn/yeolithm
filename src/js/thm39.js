/*
 * Theme 39 (Melosweet) by https://yeoli-thm.tumblr.com/
 * Copyright (c) 2021 yeoli-thm
 */
 
!function(t){t.fn.exists=function(){return this.length>0},t.fn.qcss=function(e){return this.queue(function(n){t(this).css(e),n()})};var e=window.getComputedStyle(document.body),n=e.getPropertyValue("--menubarFruitColor"),i=e.getPropertyValue("--photosetGutterSize"),s={background:"rgba(0,0,0,0)",color:e.getPropertyValue("--audioPlayerButtonColor")},o=t("body"),l=t("input#menu"),r=t(".menubutton span"),a=t("#nav"),c=a.find("li:nth-child(1)"),u=a.find("li.slider"),d=t("#mainbody"),h=t("#scrolltop");if(o.hasClass("fruitapple"))var f="M59.404,100c-4.105-0.012-7.49-1.338-9.389-2.287c-1.899,0.949-5.284,2.275-9.389,2.287 C28.073,100-3.786,69.504,9.553,36.335c4.774-11.872,15.322-18.52,31.889-15.422c1.888,0.354,3.629,0.951,5.416,1.405 c-0.112-5.997-2.243-11.603-7.5-14.637l2.93-5.077c1.926,1.111,3.607,2.499,5.026,4.134c3.887-9.991,14.67-7.53,24.424-1.284 l3.048,1.952c-5.06,5.125-12.318,12.619-20.188,11.008c-3.554-0.726-1.949-2.437-1.875,4.013c1.87-0.439,3.809-1.13,5.866-1.515 c16.724-3.127,27.173,3.69,31.89,15.422C103.631,69.043,72.443,100,59.404,100z";else if(o.hasClass("fruitbanana"))f="M90.783,66.666c-15.775,25.951-49.094,37.545-75.016,31.96c0-6.05,0-21.498,0-23.787 c62.372-14.86,45.438-51.391,62.631-57.769V0h15.242v18.22C102.455,27.264,101.23,49.472,90.783,66.666z M1.529,92.036 c2.25,2.042,5.058,3.692,8.373,4.926c0-9.022,0-11.991,0-20.878c-0.424,0-1.375,0.454-8.604,1.203\tC0.33,93.084,0.019,90.669,1.529,92.036z";else if(o.hasClass("fruitcherry"))f="M83.834,78.943c0,19.785-24.77,28.479-37.256,13.438c-9.211-11.068-4.757-27.961,8.682-33.104 c-8.681-11.655-7.788-28.083-3.99-42.105C37.438,28.591,31.834,44.241,32.979,58.053c3.349,0.415,6.521,1.627,9.266,3.504 c-8.448,9.92-8.548,24.735,0,34.773c-13.829,9.445-32.92-0.41-32.92-17.387c0-10.496,7.723-19.223,17.786-20.797 C25.486,35.993,38.133,12.643,69.413,0l2.194,5.431c-3.604,1.457-6.963,3.054-10.078,4.791c0.936,1.463,2.236,3.179,3.853,4.548 c3.675-2.94,8.946-3.432,13.19-0.843c5.014,3.057,10.049,15.784,12.103,20.863c-5.677,0.519-19.118,1.815-24.089-1.217 c-4.859-2.962-6.74-8.975-4.695-14.091c-0.014,0.034-2.084-1.703-3.955-4.184c-4.346,14.483-6.387,31.419,3.783,42.621 C73.82,57.318,83.834,66.961,83.834,78.943z";else if(o.hasClass("fruitkiwi"))f="M76.838,50c0-21.185-17.234-38.42-38.419-38.42C17.235,11.58,0,28.815,0,50c0,21.186,17.235,38.42,38.419,38.42 C59.604,88.42,76.838,71.186,76.838,50z M27.53,25.032l3.548,6.231l-5.093,2.9l-3.548-6.231L27.53,25.032z M11.775,52.963 l-0.112-5.861l6.763-0.129l0.112,5.859L11.775,52.963z M27.421,74.686l-5.077-2.931l3.48-6.03l5.077,2.93L27.421,74.686z M38.375,59.527c-5.254,0-9.528-4.273-9.528-9.527s4.274-9.528,9.528-9.528s9.527,4.274,9.527,9.528S43.628,59.527,38.375,59.527z M49.332,74.836l-3.584-6.096l5.053-2.971l3.584,6.096L49.332,74.836z M50.848,34.277l-5.035-3l3.751-6.295l5.036,3L50.848,34.277z M58.268,47.102h7.479v5.861h-7.479V47.102z M100,50c0,21.202-17.25,38.452-38.452,38.453c-3.192,0,0.497,0.544,8.183-7.143 c17.308-17.307,17.306-45.316,0-62.622c-7.681-7.681-11.377-7.141-8.183-7.141C82.75,11.548,100,28.797,100,50z";else if(o.hasClass("fruitmango"))f="M100,19.425c-7.684,10.089-17.52,12.44-26.871,4.24c-0.436,1.11-0.923,2.082-1.384,2.888 C85.107,37.685,88.876,66.238,60.35,84.568C28.565,104.992-5.017,84.322,0.625,69.684c2.17-5.631,11.693-9.521,16.652-22.682 C29.547,14.438,56.02,17.72,66.84,23.313c1.498-2.748,3.245-7.862-0.531-12.932l4.709-3.508c1.741,2.339,2.828,4.87,3.248,7.517 c8.574-6.679,17.797-4.504,24.24,3.239L100,19.425z";else if(o.hasClass("fruitorange"))f="M53.059,19.901c-0.217-10.629-4.875-6.976,4.238-6.953c1.441,3.332,4.764,5.604,8.516,5.604 c5.152,0,12.717-7.068,16.91-10.817C78.885,5.39,69.762-0.411,64.98,0.023c-4.056,0.368-7.268,3.304-8.183,7.055 c-5.233-0.154-9.57-2.387-10.667-3.001c-1.73-1.508-3.893-2.858-6.601-3.888l-2.083,5.477c8.348,3.174,9.674,10.426,9.765,14.217 C26.394,21.319,9.893,38.714,9.893,59.893C9.893,82.008,27.885,100,50,100s40.107-17.992,40.107-40.107 C90.107,38.806,73.75,21.469,53.059,19.901z M35.156,74.709h-5.859V68.85h5.859V74.709z M41.537,85.061h-5.86v-5.858h5.86V85.061z M47.396,75.229h-5.86V69.37h5.86V75.229z";else if(o.hasClass("fruitstrawberry"))f="M65.333,25.41c-5.14-1.696-25.522-1.696-30.663,0C15.852,31.618,8.872,56.549,20.73,72.213 c5.03,6.643,13.321,10.352,16.865,18.207c5.746,12.734,19.033,12.813,24.813,0c3.545-7.855,11.836-11.564,16.865-18.207 C91.094,56.6,84.211,31.637,65.333,25.41z M34.109,67.855h-5.862v-5.861h5.862V67.855z M39.841,33.987h5.862v5.862h-5.862V33.987z M53.91,89.221h-5.862v-5.863h5.862V89.221z M57.818,60.333h-5.863v-5.862h5.863V60.333z M66.154,39.849v-5.862h5.861v5.862H66.154z M20.459,27.239c-2.05-4.363-1.839-8.083-1.223-12.348c3.312-1.622,7.172-2.531,12.655-0.477C31.122,8.191,32.749,4.425,35.325,0 c6.847,0.724,11.567,3.891,14.677,9.275C53.113,3.889,57.834,0.723,64.68,0c2.672,4.592,4.184,8.342,3.434,14.415 c5.496-2.059,9.257-1.188,12.654,0.476c0.541,3.74,0.937,7.753-1.223,12.348c-7.604-7.17-15.031-8.757-24.607-9.254 C41.622,17.293,30.12,18.126,20.459,27.239z";else if(o.hasClass("fruitwatermelon"))f="M49.995,58.793c17.989,0,32.14-14.892,31.952-32.007v-3.288H18.043l-0.001,3.354C18.047,44.466,32.379,58.793,49.995,58.793 z M62.247,38.315l4.872,7.452l-4.905,3.207l-4.872-7.452L62.247,38.315z M42.647,41.522l-4.872,7.452l-4.905-3.207l4.872-7.452 L42.647,41.522z M100,23.498c0.012,34.036-24.789,53.011-50.005,53.011C24.654,76.509-0.128,57.307,0,23.491 c3.89,0.01,1.324,0.007,12.182,0.007c0,2.953,0,3.24,0,3.343c0,20.85,16.963,37.813,37.813,37.813 c20.851,0,37.812-16.963,37.812-37.813v-3.343H100z";var p=["","k","M","G","T","P","E"];function m(){t("[title]").tooltipster({anchor:"top-left",offset:[14,-18],plugins:["follower"],animationDuration:300,delay:100,maxWidth:160,updateAnimation:null,trigger:"custom",triggerOpen:{click:!0,mouseenter:!0,tap:!1,touchstart:!1},triggerClose:{click:!1,mouseleave:!0,originClick:!1,scroll:!0,tap:!0,touchleave:!0}})}t.fn.notecount=function(){return this.find(".notecount").each(function(){var e=t(this).text(),n=(e.toString().length,function(t){var e=Math.log10(t)/3|0;if(0==e)return t;var n=p[e],i=Math.pow(10,3*e);return+(t/i).toFixed(1)+n}(e));t(this).text(n)})},t.fn.photoset=function(){return this.find(".photo-slideshow:not(.processed)").pxuPhotoset({lightbox:!0,highRes:!0,rounded:!1,exif:!1,captions:!1,gutter:i,photoset:".photo-slideshow",photoWrap:".photo-data",photo:".pxu-photo"})},t.fn.video=function(){return this.find(".tmblr-embed:not(.processed)").each(function(){var e=t(this);if(e.find(".instagram-media").exists())e.addClass("processed");else{var n=e.find("iframe").width(),i=e.find("iframe").height(),s=Math.floor(i/n*100)+"%";e.find("iframe").wrap('<div class="vid-resize"/>'),e.find(".vid-resize").css({"padding-Bottom":s}),e.addClass("processed")}})},t.fn.audio=function(){return this.find("iframe.tumblr_audio_player").load(function(){var e=t(this);e.contents().find(".audio-player").css(s).find(".progress").css({background:"rgba(0,0,0,0)"}),e.css({opacity:"1"})})},function(t){const e=document.getElementById("fruitbg"),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width","100%"),n.setAttributeNS(null,"height","100%"),e.appendChild(n);const i=document.createElementNS("http://www.w3.org/2000/svg","defs"),s=document.createElementNS("http://www.w3.org/2000/svg","defs");function o(e,i,s,o){n.appendChild(e),patternNode=document.createElementNS("http://www.w3.org/2000/svg","pattern"),patternNode.setAttributeNS(null,"id",i),patternNode.setAttributeNS(null,"viewbox","0 0 100 100"),patternNode.setAttributeNS(null,"x",s),patternNode.setAttributeNS(null,"y",o),patternNode.setAttributeNS(null,"width","100"),patternNode.setAttributeNS(null,"height","100"),patternNode.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.appendChild(patternNode);const l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","scale(.16,.16)"),patternNode.appendChild(l);const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttributeNS(null,"id",i),r.setAttributeNS(null,"stroke",t),r.setAttributeNS(null,"stroke-width","4"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"d",f),l.appendChild(r);const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"fill","url(#"+i+")"),n.appendChild(a)}o(i,"shape1",16,2),o(s,"shape2",66,52)}(n),m(),t.tooltipster.group("tooltip"),o.on("mouseover",".blog_desc, .notes",m),t(".post_item:not(.appended)").each(function(){var e=t(this);return e.find(".timeago").timeAgo({time:"letter",spaces:!1}),function(e){e.find("figure").each(function(){null==t(this).attr("class")&&null!=t(this).attr("data-orig-width")||null!=t(this).attr("data-tumblr-attribution")?t(this).wrap('<div class="npf-wrap-single"/>'):"tmblr-full"!=t(this).attr("class")||t(this).parents(".npf_row").exists()||null!=t(this).attr("data-tumblr-attribution")||t(this).addClass("npf-item")}),e.find(".npf_row").each(function(){t(this).addClass("npf-item");var e=t(this).first(".npf_col").find("a.post_media_photo_anchor").attr("data-big-photo-height"),n=t(this).first(".npf_col").find("a.post_media_photo_anchor").attr("data-big-photo-width"),i=Math.floor(e/n*100);t(this).find(".tmblr-full").css("padding-bottom",i+"%")}),e.find(".npf-item").not(".npf-item + .npf-item").each(function(){t(this).nextUntil(":not(.npf-item)").addBack().wrapAll('<div class="npf-wrap-all"/>')})}(e),e.notecount(),e.photoset(),e.video(),e.audio(),e.addClass("appended"),this}),l.change(function(){t(this).is(":checked")?(o.addClass("overflow"),r.attr("class","fx fx-x")):(setTimeout(function(){o.removeClass("overflow")},500),r.attr("class","fx fx-menu"))}),a.hover(function(){c.removeClass("focused")},function(){c.addClass("focused"),u.delay(100).qcss({transform:"translateY(0px)"})}),a.find("li").mouseenter(function(){var e=40*t(this).index()+"px";u.css("transform","translateY("+e+")")}),h.click(function(){return d.animate({scrollTop:0},600),!1}),d.scroll(function(){var e=t(this).scrollTop();e>200&&"none"==h.css("display")?h.fadeIn():e<=200&&"block"==h.css("display")&&h.fadeOut()})}(jQuery);
